@import "tailwindcss";

@theme {
  /* Base colors */
  --color-prime-50: #fefefe;
  --color-prime-100: #f8f6f4;
  --color-prime-200: #f0ebe6;
  --color-prime-300: #e8dfd7;
  --color-prime-400: #d4c4b5;
  --color-prime-500: #b8a08a;
  --color-prime-600: #8b7355;
  --color-prime-700: #6b5744;
  --color-prime-800: #4a3d30;
  --color-prime-900: #2d251d;
  --color-prime-950: #1a1612;

  /* Accent colors */
  --color-sketch-yellow: #ffd93d;
  --color-sketch-coral: #ff6b6b;
  --color-sketch-mint: #4ecdc4;

  /* Category colors (for small chips only) */
  --color-cat-gamedev: #3b82f6;
  --color-cat-shaders: #a855f7;
  --color-cat-simulator: #f97316;
  --color-cat-3dart: #ec4899;
  --color-cat-tools: #22c55e;

  /* Fonts */
  --font-geist-sans: var(--font-geist-sans);
  --font-geist-mono: var(--font-geist-mono);
  --font-caveat: var(--font-caveat);
  --font-marker: var(--font-marker);
}

:root,
.paper {
  --background: #fffdf8;
  --foreground: #2d251d;
  --card-bg: #ffffff;
  --card-border: #2d251d;
  --paper-lines: #e8dfd7;
  --accent-primary: #ffd93d;
  --accent-secondary: #ff6b6b;

  /* Unified design tokens */
  --radius-card: 12px;
  --radius-chip: 8px;
  --line-width: 2px;
  --shadow-offset: 4px;
  --shadow-offset-hover: 6px;

  /* Animation timings */
  --duration-fast: 180ms;
  --duration-normal: 240ms;
  --duration-slow: 320ms;
}

body {
  background-color: var(--background);
  color: var(--foreground);
  font-family: var(--font-geist-sans), Arial, Helvetica, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Subtle paper texture */
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
}

@layer utilities {

  /* ===== FONT CLASSES ===== */
  .font-sketch {
    font-family: var(--font-caveat), cursive;
  }

  .font-marker {
    font-family: var(--font-marker), cursive;
  }

  /* ===== PAPER CARD WITH STACKING ===== */
  .paper-card {
    background-color: var(--card-bg);
    border: var(--line-width) solid var(--card-border);
    border-radius: var(--radius-card);
    position: relative;
    transition: transform var(--duration-normal) ease-out,
      box-shadow var(--duration-normal) ease-out;
  }

  /* Second layer paper effect */
  .paper-card::before {
    content: '';
    position: absolute;
    top: var(--shadow-offset);
    left: var(--shadow-offset);
    right: calc(var(--shadow-offset) * -1);
    bottom: calc(var(--shadow-offset) * -1);
    background: var(--card-bg);
    border: var(--line-width) solid var(--card-border);
    border-radius: var(--radius-card);
    z-index: -1;
    opacity: 0.5;
  }

  .paper-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-offset-hover) var(--shadow-offset-hover) 0 var(--color-sketch-yellow);
  }

  /* ===== FOLDER TAB ===== */
  .folder-tab {
    background: var(--card-bg);
    border: var(--line-width) solid var(--card-border);
    border-radius: var(--radius-chip);
    padding: 0.75rem 1.25rem;
    font-family: var(--font-marker), cursive;
    font-size: 0.875rem;
    cursor: pointer;
    transition: all var(--duration-fast) cubic-bezier(0.34, 1.56, 0.64, 1);
    position: relative;
  }

  .folder-tab:hover {
    transform: scale(1.02);
  }

  .folder-tab:active {
    transform: scale(0.98);
  }

  .folder-tab[data-active="true"] {
    background: var(--color-sketch-yellow);
    transform: translateX(4px);
  }

  .folder-tab[data-active="true"]::after {
    content: '';
    position: absolute;
    right: -4px;
    top: 50%;
    transform: translateY(-50%);
    width: 0;
    height: 0;
    border-top: 8px solid transparent;
    border-bottom: 8px solid transparent;
    border-left: 8px solid var(--card-border);
  }

  /* ===== STICKER CHIP ===== */
  .sticker-chip {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.25rem 0.75rem;
    background: var(--card-bg);
    border: var(--line-width) solid var(--card-border);
    border-radius: 999px;
    font-size: 0.75rem;
    font-weight: 600;
    transition: transform var(--duration-fast) ease;
  }

  .sticker-chip:hover {
    transform: rotate(-2deg) scale(1.05);
  }

  .sticker-chip::before {
    content: '';
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: currentColor;
  }

  /* Category color variants */
  .sticker-chip[data-cat="Game Dev"] {
    color: var(--color-cat-gamedev);
  }

  .sticker-chip[data-cat="Shaders"] {
    color: var(--color-cat-shaders);
  }

  .sticker-chip[data-cat="Simulator"] {
    color: var(--color-cat-simulator);
  }

  .sticker-chip[data-cat="3D Art"] {
    color: var(--color-cat-3dart);
  }

  .sticker-chip[data-cat="Tools"] {
    color: var(--color-cat-tools);
  }

  /* ===== YELLOW TAPE ===== */
  .tape {
    position: absolute;
    width: 48px;
    height: 20px;
    background: var(--color-sketch-yellow);
    border: 1px solid rgba(0, 0, 0, 0.1);
    z-index: 10;
    transition: transform var(--duration-normal) ease;
  }

  .tape-top {
    top: -10px;
    left: 50%;
    transform: translateX(-50%) rotate(-2deg);
  }

  .tape-left {
    top: -10px;
    left: 16px;
    transform: rotate(-5deg);
  }

  .tape-right {
    top: -10px;
    right: 16px;
    transform: rotate(3deg);
  }

  .paper-card:hover .tape {
    transform: translateX(-50%) rotate(2deg);
  }

  .paper-card:hover .tape-left {
    transform: rotate(-3deg);
  }

  .paper-card:hover .tape-right {
    transform: rotate(5deg);
  }

  /* ===== HIGHLIGHT MARKER ===== */
  .highlight-yellow {
    background: linear-gradient(180deg, transparent 50%, rgba(255, 217, 61, 0.5) 50%);
  }

  .highlight-coral {
    background: linear-gradient(180deg, transparent 50%, rgba(255, 107, 107, 0.3) 50%);
  }

  /* ===== SKETCH UNDERLINE ===== */
  .sketch-underline {
    position: relative;
    display: inline-block;
  }

  .sketch-underline::after {
    content: '';
    position: absolute;
    bottom: -6px;
    left: -4px;
    right: -4px;
    height: 12px;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 6 Q 10 2, 20 6 T 40 6 T 60 6 T 80 6 T 100 6' stroke='%232d251d' stroke-width='2.5' fill='none' stroke-linecap='round'/%3E%3C/svg%3E");
    background-size: 100% 100%;
    background-repeat: no-repeat;
  }

  /* ===== TORN PAPER DIVIDER ===== */
  .torn-divider {
    height: 40px;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 1200 40' xmlns='http://www.w3.org/2000/svg' preserveAspectRatio='none'%3E%3Cpath d='M0 20 Q 50 0, 100 20 T 200 20 T 300 15 T 400 25 T 500 20 T 600 18 T 700 22 T 800 20 T 900 15 T 1000 25 T 1100 20 T 1200 20 L 1200 40 L 0 40 Z' fill='%23f8f6f4'/%3E%3C/svg%3E");
    background-size: 100% 100%;
  }

  /* ===== SKETCH BUTTON ===== */
  .sketch-btn {
    position: relative;
    border: var(--line-width) solid var(--card-border);
    background: var(--card-bg);
    border-radius: var(--radius-chip);
    font-family: var(--font-marker), cursive;
    cursor: pointer;
    transition: all var(--duration-fast) ease;
  }

  .sketch-btn:hover {
    transform: translate(-2px, -2px);
    box-shadow: 4px 4px 0 var(--card-border);
  }

  .sketch-btn:active {
    transform: translate(0, 0);
    box-shadow: none;
  }

  .sketch-btn-primary {
    background: var(--color-sketch-yellow);
  }

  /* ===== ANIMATIONS ===== */

  /* Wiggle - for doodles */
  .wiggle {
    animation: wiggle 3s ease-in-out infinite;
  }

  @keyframes wiggle {

    0%,
    100% {
      transform: rotate(-2deg);
    }

    50% {
      transform: rotate(2deg);
    }
  }

  /* Float - for decorations */
  .float {
    animation: float 4s ease-in-out infinite;
  }

  @keyframes float {

    0%,
    100% {
      transform: translateY(0);
    }

    50% {
      transform: translateY(-8px);
    }
  }

  /* Drift - ultra slow for background doodles */
  .drift {
    animation: drift 20s linear infinite;
  }

  @keyframes drift {

    0%,
    100% {
      transform: translateX(0);
    }

    50% {
      transform: translateX(10px);
    }
  }

  /* Bounce in - page elements */
  .bounce-in {
    animation: bounce-in 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    opacity: 0;
  }

  @keyframes bounce-in {
    0% {
      opacity: 0;
      transform: translateY(24px) scale(0.96);
    }

    60% {
      transform: translateY(-4px) scale(1.01);
    }

    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  /* Pop in - small elements */
  .pop-in {
    animation: pop-in 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    opacity: 0;
  }

  @keyframes pop-in {
    0% {
      opacity: 0;
      transform: scale(0.8);
    }

    100% {
      opacity: 1;
      transform: scale(1);
    }
  }

  /* Scroll reveal - paper lift */
  .scroll-reveal {
    opacity: 0;
    transform: translateY(16px);
    transition: opacity var(--duration-normal) ease-out,
      transform var(--duration-normal) ease-out;
  }

  .scroll-reveal.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Draw line - SVG animation */
  .draw-line {
    stroke-dasharray: 500;
    stroke-dashoffset: 500;
    animation: draw 1.5s ease-out forwards;
  }

  @keyframes draw {
    to {
      stroke-dashoffset: 0;
    }
  }

  /* Twinkle - for stars */
  .twinkle {
    animation: twinkle 2s ease-in-out infinite;
  }

  @keyframes twinkle {

    0%,
    100% {
      opacity: 1;
    }

    50% {
      opacity: 0.5;
    }
  }

  /* Location bounce - subtle bounce every 6-8s */
  .location-bounce {
    animation: location-bounce 7s ease-in-out infinite;
  }

  @keyframes location-bounce {

    0%,
    85%,
    100% {
      transform: translateY(0);
    }

    90% {
      transform: translateY(-4px);
    }

    95% {
      transform: translateY(0);
    }
  }

  /* Stamp animation - for COPIED overlay */
  .animate-stamp {
    animation: stamp-in 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  @keyframes stamp-in {
    0% {
      opacity: 0;
      transform: scale(2) rotate(-12deg);
    }

    100% {
      opacity: 1;
      transform: scale(1) rotate(-12deg);
    }
  }

  /* ===== REDUCED MOTION ===== */
  @media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* ===== STATIONERY INTERACTIONS ===== */

  /* --- Corner Peel Effect --- */
  .corner-peel {
    position: relative;
    overflow: hidden;
  }

  .corner-peel::after {
    content: '';
    position: absolute;
    bottom: 0;
    right: 0;
    width: 0;
    height: 0;
    background: linear-gradient(135deg, transparent 50%, #f0ebe6 50%);
    box-shadow: -2px -2px 4px rgba(0, 0, 0, 0.1);
    transition: all var(--duration-normal) ease-out;
    border-radius: 0 0 0 8px;
  }

  .corner-peel:hover::after {
    width: 40px;
    height: 40px;
  }

  /* --- Paperclip Decoration --- */
  .paperclip {
    position: relative;
  }

  .paperclip::before {
    content: '';
    position: absolute;
    top: -8px;
    right: 20px;
    width: 20px;
    height: 40px;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 20 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 2 L10 35 Q10 38, 7 38 Q4 38, 4 35 L4 12 Q4 9, 7 9 L10 9' stroke='%23a1a1aa' stroke-width='2' fill='none' stroke-linecap='round'/%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
    z-index: 20;
    transform: rotate(5deg);
    transition: transform var(--duration-fast) ease;
  }

  .paperclip:hover::before {
    transform: rotate(8deg);
  }

  /* --- Stamp Button Animation --- */
  .stamp-btn {
    position: relative;
    overflow: hidden;
  }

  .stamp-btn::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: rgba(255, 217, 61, 0.3);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    transition: width 0.4s ease, height 0.4s ease;
  }

  .stamp-btn:active {
    transform: scale(0.95);
  }

  .stamp-btn:active::after {
    width: 200%;
    height: 200%;
  }

  /* Stamp approved effect */
  .stamp-approved {
    position: relative;
  }

  .stamp-approved::before {
    content: 'âœ“';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0) rotate(-15deg);
    font-size: 1.5rem;
    color: #22c55e;
    opacity: 0;
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    pointer-events: none;
  }

  .stamp-approved.stamped::before {
    transform: translate(-50%, -50%) scale(1) rotate(-15deg);
    opacity: 1;
  }

  /* --- Polaroid Card --- */
  .polaroid {
    background: white;
    padding: 12px 12px 40px 12px;
    border: 1px solid #e5e5e5;
    box-shadow: 2px 3px 8px rgba(0, 0, 0, 0.1);
    transition: all var(--duration-normal) ease;
  }

  .polaroid:hover {
    transform: rotate(2deg) scale(1.02);
    box-shadow: 4px 6px 12px rgba(0, 0, 0, 0.15);
  }

  /* Polaroid stack */
  .polaroid-stack {
    position: relative;
  }

  .polaroid-stack::before,
  .polaroid-stack::after {
    content: '';
    position: absolute;
    background: white;
    border: 1px solid #e5e5e5;
    box-shadow: 1px 2px 4px rgba(0, 0, 0, 0.08);
    z-index: -1;
  }

  .polaroid-stack::before {
    inset: 4px;
    transform: rotate(3deg);
  }

  .polaroid-stack::after {
    inset: 8px;
    transform: rotate(-2deg);
    z-index: -2;
  }

  /* --- Flip Badge --- */
  .flip-badge {
    perspective: 600px;
    cursor: pointer;
  }

  .flip-badge-inner {
    position: relative;
    transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    transform-style: preserve-3d;
  }

  .flip-badge:hover .flip-badge-inner {
    transform: rotateY(180deg);
  }

  .flip-badge-front,
  .flip-badge-back {
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
  }

  .flip-badge-back {
    position: absolute;
    inset: 0;
    transform: rotateY(180deg);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* --- Binder Holes --- */
  .binder-holes {
    position: fixed;
    left: 24px;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    gap: 24px;
    z-index: 40;
  }

  .binder-hole {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    border: 2px solid var(--card-border);
    background: var(--background);
    transition: all var(--duration-fast) ease;
    cursor: pointer;
  }

  .binder-hole.active {
    background: var(--color-sketch-yellow);
    transform: scale(1.2);
  }

  .binder-hole:hover {
    background: var(--color-sketch-yellow);
  }

  /* --- Washi Tape Variants --- */
  .washi-tape {
    background: var(--color-sketch-yellow);
    background-image: repeating-linear-gradient(45deg,
        transparent,
        transparent 4px,
        rgba(255, 255, 255, 0.3) 4px,
        rgba(255, 255, 255, 0.3) 8px);
  }

  .washi-tape-blue {
    background: var(--color-cat-gamedev);
    background-image: repeating-linear-gradient(45deg,
        transparent,
        transparent 4px,
        rgba(255, 255, 255, 0.3) 4px,
        rgba(255, 255, 255, 0.3) 8px);
  }

  /* --- Bookmark Tab --- */
  .bookmark-tab {
    position: relative;
    padding-left: 16px;
    border-left: 4px solid transparent;
    transition: all var(--duration-fast) ease;
    cursor: pointer;
  }

  .bookmark-tab::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 0;
    height: 0;
    border-left: 8px solid var(--color-sketch-yellow);
    border-top: 12px solid transparent;
    border-bottom: 12px solid transparent;
    opacity: 0;
    transition: opacity var(--duration-fast) ease;
  }

  .bookmark-tab.active::before,
  .bookmark-tab:hover::before {
    opacity: 1;
  }

  .bookmark-tab:hover {
    border-left-color: var(--color-sketch-yellow);
    padding-left: 20px;
  }

  /* --- Paper Clip Pin Effect --- */
  .pin-effect {
    position: relative;
  }

  .pin-effect::after {
    content: '';
    position: absolute;
    top: 8px;
    left: 50%;
    transform: translateX(-50%);
    width: 8px;
    height: 8px;
    background: #ef4444;
    border-radius: 50%;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    z-index: 10;
  }
}

/* ===== SCROLLBAR ===== */
::selection {
  background-color: rgba(255, 217, 61, 0.5);
  color: var(--foreground);
}

::-webkit-scrollbar {
  width: 12px;
}

::-webkit-scrollbar-track {
  background-color: var(--background);
  border-left: var(--line-width) solid var(--card-border);
}

::-webkit-scrollbar-thumb {
  background-color: var(--color-sketch-yellow);
  border: var(--line-width) solid var(--card-border);
}

::-webkit-scrollbar-thumb:hover {
  background-color: #ffcc00;
}